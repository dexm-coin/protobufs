syntax = "proto3";

message Transaction {
    bytes sender = 1;
    string recipient = 2;
    uint32 nonce = 3;

    uint64 amount = 4;
    uint32 gas = 5;
    uint64 timestamp = 6;

    bool contractCreation = 7;
    string function = 8;
    repeated uint64 args = 9;
    bytes data = 10;
    
    bytes r = 11;
    bytes s = 12;
}

message Block {
    uint64 index = 1;
    uint64 timestamp = 2;
    bytes prevHash = 3;
    string miner = 4;

    repeated Transaction transactions = 5;

    bytes merkleRootTransaction = 6;
    bytes merkleRootReceipt = 7;
}

message MerkleRoot {
    int64 shard = 1;
    repeated bytes signedMerkleRootsTransaction = 2;
    repeated bytes signedMerkleRootsReceipt = 3;

    repeated string validators = 4;
}

message AccountState {
    uint64 balance = 1;
    uint32 nonce = 2;
}

message ContractState {
    bytes memory = 1;
    repeated uint64 globals = 2;
}

message CasperVote {
    bytes source = 1;
    bytes target = 2;

    uint64 sourceHeight = 3;
    uint64 targetHeight = 4;

    bytes r = 5;
    bytes s = 6;

    string publicKey = 7;
}

message ValidatorWithdraw {
    string publicKey = 1;

    bytes r = 2;
    bytes s = 3;
}

message Receipt {
    string sender = 1;
    string recipient = 2;
    uint64 amount = 3;
}